(function($){		
	$.fn.quickPagination=function(options){		
		var defaults={pageSize:10,currentPage:1,holder:null,pagerLocation:"after",jmlData:0};
		var options=$.extend(defaults,options);
		var CookieAPI = new Clazz.com.attendance.api.CookieAPI();
		CookieAPI.savePageAttendanceReport(0);
		var jmlData = CookieAPI.getDataEmployee();
		return this.each(function(){
			var selector=$(this);
			var pageCounter=1;			
			selector.wrap("<div class='simplePagerContainer'></div>");
			selector.parents(".simplePagerContainer").find("ul.simplePagerNav").remove();
			selector.children().each(function(i){
				if(i<pageCounter*options.pageSize&&i>=(pageCounter-1)*options.pageSize){
					$(this).addClass("simplePagerPage"+pageCounter);
				}
				else{
					$(this).addClass("simplePagerPage"+(pageCounter+1));
					pageCounter++;}
			});
			selector.children().hide();
			selector.children(".simplePagerPage"+options.currentPage).show();
			if(pageCounter<=1){
				return;
			}					
			var pageNav="<div class='simplePagerNav'><a rel='"+options.currentPage+"' href='#'><div class='currentPage simplePageNavFirst'>First</div></a><a rel='prev' href='#'><div class='currentPage simplePageNavPrev'>Prev</div></a>";
			for(i=1;i<=pageCounter;i++){
				if(i==options.currentPage){
					pageNav+="<a rel='"+i+"' href='#'><div class='currentPage simplePageNav"+i+"'>"+i+"</div></a>";
				}
				else{
					pageNav+="<a rel='"+i+"' href='#'><div class='simplePageNav"+i+"'>"+i+"</div></a>";

				}}
			pageNav+="<a rel='next' href='#'><div class='currentPage simplePageNavNext'>Next</div></a><a rel='"+pageCounter+"' href='#'><div class='currentPage simplePageNavLast'>Last</div></a></div>" +
					"<div class='mydetail21'><span class='mydetail2'><span>Showing </span>1</span></span><span class='mydetail'><span> to </span>10</span><span class='jml-data'><span> of </span>"+jmlData+" entries</span></div>";
			if(!options.holder){
				switch(options.pagerLocation){
				case"before":selector.before(pageNav);
				break;
				case"both":selector.before(pageNav);
				selector.after(pageNav);
				break;
				default:selector.after(pageNav);
				}}
			else{
				$(options.holder).append(pageNav);
			}


			selector.parent().find(".simplePagerNav a").click(function(){
				var clickedLink=$(this).attr("rel");	
				var CookieAPI = new Clazz.com.attendance.api.CookieAPI();
				var lastPageSelected = CookieAPI.getPageAttendanceReport();
				

				if (clickedLink == 1){
					$(".simplePageNavPrev").css("background-color","#d5e1d7");
					$(".simplePageNavFirst").css("background-color","#d5e1d7");
					$(".simplePageNavPrev").css("cursor","default");
					$(".simplePageNavFirst").css("cursor","default");
					$(".simplePageNavPrev").css("color","#8a8e8a");
					$(".simplePageNavFirst").css("color","#8a8e8a");
					
					$(".simplePageNavNext").css("background-color","#528658");
					$(".simplePageNavLast").css("background-color","#528658");
					$(".simplePageNavNext").css("cursor","pointer");
					$(".simplePageNavLast").css("cursor","pointer");
					$(".simplePageNavNext").css("color","black");
					$(".simplePageNavLast").css("color","black");
				}
				if (clickedLink == pageCounter){
					$(".simplePageNavNext").css("background-color","#d5e1d7");
					$(".simplePageNavLast").css("background-color","#d5e1d7");
					$(".simplePageNavNext").css("cursor","default");
					$(".simplePageNavLast").css("cursor","default");
					$(".simplePageNavNext").css("color","#8a8e8a");
					$(".simplePageNavLast").css("color","#8a8e8a");
					
					$(".simplePageNavPrev").css("background-color","#528658");
					$(".simplePageNavFirst").css("background-color","#528658");
					$(".simplePageNavPrev").css("cursor","pointer");
					$(".simplePageNavFirst").css("cursor","pointer");
					$(".simplePageNavPrev").css("color","black");
					$(".simplePageNavFirst").css("color","black");
				}
				if (clickedLink != 1){
					$(".simplePageNavPrev").css("background-color","#528658");
					$(".simplePageNavFirst").css("background-color","#528658");
					$(".simplePageNavPrev").css("cursor","pointer");
					$(".simplePageNavFirst").css("cursor","pointer");
					$(".simplePageNavPrev").css("color","black");
					$(".simplePageNavFirst").css("color","black");
				}
				
				if (clickedLink != pageCounter){
					$(".simplePageNavNext").css("background-color","#528658");
					$(".simplePageNavLast").css("background-color","#528658");
					$(".simplePageNavNext").css("cursor","pointer");
					$(".simplePageNavLast").css("cursor","pointer");
					$(".simplePageNavNext").css("color","black");
					$(".simplePageNavLast").css("color","black");
				}
				
				if (clickedLink == 'next'){
					
					if (lastPageSelected == pageCounter-1 ){
						$(".simplePageNavNext").css("background-color","#d5e1d7");
						$(".simplePageNavLast").css("background-color","#d5e1d7");
						$(".simplePageNavNext").css("cursor","default");
						$(".simplePageNavLast").css("cursor","default");
						$(".simplePageNavNext").css("color","#8a8e8a");
						$(".simplePageNavLast").css("color","#8a8e8a");
						
						$(".simplePageNavPrev").css("background-color","#528658");
						$(".simplePageNavFirst").css("background-color","#528658");
						$(".simplePageNavPrev").css("cursor","pointer");
						$(".simplePageNavFirst").css("cursor","pointer");
						$(".simplePageNavPrev").css("color","black");
						$(".simplePageNavFirst").css("color","black");
					}
					
					if (lastPageSelected == pageCounter ){
						$(".simplePageNavNext").css("background-color","#d5e1d7");
						$(".simplePageNavLast").css("background-color","#d5e1d7");
						$(".simplePageNavNext").css("cursor","default");
						$(".simplePageNavLast").css("cursor","default");
						$(".simplePageNavNext").css("color","#8a8e8a");
						$(".simplePageNavLast").css("color","#8a8e8a");
						
						$(".simplePageNavPrev").css("background-color","#528658");
						$(".simplePageNavFirst").css("background-color","#528658");
						$(".simplePageNavPrev").css("cursor","pointer");
						$(".simplePageNavFirst").css("cursor","pointer");
						$(".simplePageNavPrev").css("color","black");
						$(".simplePageNavFirst").css("color","black");
					}
					
					if (lastPageSelected == 0){
						clickedLink = 2;
						CookieAPI.savePageAttendanceReport(clickedLink);
					}
					else if (lastPageSelected == pageCounter){
						clickedLink = pageCounter;
						CookieAPI.savePageAttendanceReport(clickedLink);
					
					}
					else{
						clickedLink = (parseInt(lastPageSelected)+1);
						CookieAPI.savePageAttendanceReport(clickedLink);
					}					
				}
				if (clickedLink == 'prev' && lastPageSelected == 0 ){
					clickedLink = (parseInt(lastPageSelected)+1);
					CookieAPI.savePageAttendanceReport(clickedLink);	
					$(".simplePageNavPrev").css("background-color","#d5e1d7");
					$(".simplePageNavFirst").css("background-color","#d5e1d7");
					$(".simplePageNavPrev").css("cursor","default");
					$(".simplePageNavFirst").css("cursor","default");
					$(".simplePageNavPrev").css("color","#8a8e8a");
					$(".simplePageNavFirst").css("color","#8a8e8a");
					$(".drop-master-filter").slideUp();
					hideCalendarControl('dpMonthYear');
				}

				if (clickedLink == 'prev' && lastPageSelected == 1 ){
					clickedLink = 1;
					CookieAPI.savePageAttendanceReport(clickedLink);	
					
					$(".simplePageNavPrev").css("background-color","#d5e1d7");
					$(".simplePageNavFirst").css("background-color","#d5e1d7");
					$(".simplePageNavPrev").css("cursor","default");
					$(".simplePageNavFirst").css("cursor","default");
					$(".simplePageNavPrev").css("color","#8a8e8a");
					$(".simplePageNavFirst").css("color","#8a8e8a");
					
					$(".simplePageNavNext").css("background-color","#528658");
					$(".simplePageNavLast").css("background-color","#528658");
					$(".simplePageNavNext").css("cursor","pointer");
					$(".simplePageNavLast").css("cursor","pointer");
					$(".simplePageNavNext").css("color","black");
					$(".simplePageNavLast").css("color","black");
					$(".drop-master-filter").slideUp();
					hideCalendarControl('dpMonthYear');
				}
				
				if (clickedLink == 'prev' && lastPageSelected == 2){
					$(".simplePageNavPrev").css("background-color","#d5e1d7");
					$(".simplePageNavFirst").css("background-color","#d5e1d7");
					$(".simplePageNavPrev").css("cursor","default");
					$(".simplePageNavFirst").css("cursor","default");
					$(".simplePageNavPrev").css("color","#8a8e8a");
					$(".simplePageNavFirst").css("color","#8a8e8a");
					
					$(".simplePageNavNext").css("background-color","#528658");
					$(".simplePageNavLast").css("background-color","#528658");
					$(".simplePageNavNext").css("cursor","pointer");
					$(".simplePageNavLast").css("cursor","pointer");
					$(".simplePageNavNext").css("color","black");
					$(".simplePageNavLast").css("color","black");
					$(".drop-master-filter").slideUp();
					hideCalendarControl('dpMonthYear');
				}
				
				if (clickedLink == 'prev' && lastPageSelected != 0){
					clickedLink = (parseInt(lastPageSelected)-1);
					CookieAPI.savePageAttendanceReport(clickedLink);
					$(".drop-master-filter").slideUp();
					hideCalendarControl('dpMonthYear');
				}

				else{
					$(".drop-master-filter").slideUp();
					hideCalendarControl('dpMonthYear');
					clickedLink = clickedLink;
					CookieAPI.savePageAttendanceReport(clickedLink);
				}
				
				var startRecord = (((clickedLink-1)*10)+1);
				$('.mydetail2').text("Showing " + startRecord);
				
				$('.mydetail').text(" to "+ clickedLink*10);
				$('.attendance-report-data-max').css("visibility","hidden");
				
				var jmlData = CookieAPI.getDataEmployee();
				if (clickedLink==pageCounter){
					$('.mydetail').text("");
					$('.mydetail').text(" to "+ jmlData);
					
				};
				for(i=0 ; i<=pageCounter ;i++){					
					$(".simplePageNav"+i+"").css("background-color","#528658");
					$(".simplePageNav"+i+"").css("color","black");
					$(".simplePageNav"+i+"").css("cursor","pointer");
				};
				$(".simplePageNav"+clickedLink+"").css("background-color","#d5e1d7");
				$(".simplePageNav"+clickedLink+"").css("color","#8a8e8a");
				$(".simplePageNav"+clickedLink+"").css("cursor","default");
				
				if(options.holder){	
					$(this).parent("li").parent("ul").parent(options.holder).find("li.currentPage").removeClass("currentPage");
					$(this).parent("li").parent("ul").parent(options.holder).find("a[rel='"+clickedLink+"']").parent("li").addClass("currentPage");
				}
				else{
					$(this).parent("li").parent("ul").parent(".simplePagerContainer").find("li.currentPage").removeClass("currentPage");
					$(this).parent("li").parent("ul").parent(".simplePagerContainer").find("a[rel='"+clickedLink+"']").parent("li").addClass("currentPage");}
				selector.children().hide();selector.find(".simplePagerPage"+clickedLink).show();
				return false;
			});
		});		
	}})
	(jQuery);